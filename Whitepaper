# ROUTE N ROOT (RNR-30)  
**Layer 1 Blockchain — Proof of Bandwidth + Proof of History**

## 1. Pendahuluan

Route N Root (RNR-30) adalah blockchain Layer 1 yang dirancang untuk efisiensi energi, kecepatan finalitas, dan ketahanan terhadap serangan jaringan. Konsensus RNR-30 menggabungkan **Proof of Bandwidth (PoB)** dengan **Proof of History (PoH)**. Angka "30" merepresentasikan waktu blok konstan selama 30 detik.

Berbeda dengan Proof of Work (PoW) yang bergantung pada kekuatan komputasi dan Proof of Stake (PoS) yang bergantung pada kepemilikan aset, RNR-30 memanfaatkan **kemampuan bandwidth internet validator** sebagai sumber daya utama. Pendekatan ini membawa beberapa keunggulan:
- **Hemat energi** — tidak membutuhkan perangkat komputasi intensif.
- **Partisipasi luas** — siapa saja dengan koneksi stabil dapat menjadi validator.
- **Tahan DDoS** — seleksi validator memperhitungkan kualitas koneksi, sehingga serangan berbasis traffic lebih sulit.
- **Finalitas cepat** — PoH memungkinkan validasi blok hanya dalam 1 siklus propagasi pada kondisi ideal.

---

## 2. Arsitektur & Algoritma Konsensus

### 2.1 Proof of Bandwidth (PoB)

**Tujuan:** Memastikan validator mampu berkontribusi pada jaringan dengan koneksi cepat, stabil, dan handal.

**Metrik yang diukur:**
- **Latensi** ≤ 40 ms → 1 poin
- **Upload throughput** ≥ 7 MB/s → 1 poin
- **Packet loss** ≤ 0.1% → 1 poin

**Proses pengolahan data:**
1. **Pengambilan Sampel** — pengukuran dilakukan berkala dari validator ke peer acak.
2. **Penyaringan noise** — nilai ekstrim dihapus menggunakan metode statistik (contoh: median filter).
3. **Perataan nilai** — menggunakan rata-rata bergerak eksponensial (EMA) untuk mendapatkan tren stabil.
4. **Perhitungan skor** — skor akhir = jumlah poin valid / 3.  
   Validator sah jika **skor ≥ 0.85**.

**Aturan node baru:**
- Wajib "membayar" bandwidth setara 6 jam kapasitas validator pembuat blok.
- Verifikasi dilakukan dengan mengirim data uji ke beberapa validator aktif dan mencatat hasilnya.

---

### 2.2 Proof of History (PoH)

PoH adalah mekanisme pencatatan waktu dan urutan transaksi secara kriptografis, di mana setiap entri PoH berisi hash dari entri sebelumnya ditambah data baru. Hal ini:
- Memastikan urutan transaksi tanpa harus memeriksa semua blok terdahulu.
- Mempercepat validasi dan finalitas.
- Mengurangi overhead sinkronisasi jaringan.

---

### 2.3 Siklus Waktu Blok (30 detik)

**Pembagian waktu dan aktivitas:**
1. **Fase Propagasi (0–10 detik):**  
   - Penemu blok wajib menyiarkan blok ≤ 1 detik setelah dibuat.  
   - Target: ≥ 85% node menerima blok dalam ≤ 10 detik.
2. **Fase Verifikasi (10–25 detik):**  
   - Node penerima melakukan verifikasi tanda tangan, hash, PoH, dan skor PoB.
   - Verifikasi cepat diikuti re-broadcast ke peer lain dalam ≤ 1 detik.
   - Verifikasi penuh (termasuk validasi transaksi) dilakukan paralel.
3. **Fase Buffer (25–30 detik):**  
   - Memberi toleransi keterlambatan propagasi dan verifikasi.
   - Menghindari benturan dengan blok berikutnya.

---

### 2.4 Resolusi Fork & Nasib Transaksi

Jika dua atau lebih blok muncul pada tinggi yang sama:
1. Pilih rantai dengan **total bobot PoB tertinggi** (Σ difficulty_target).
2. Jika sama → pilih rantai dengan **timestamp PoH terkecil**.
3. Jika masih sama → pilih rantai dengan **hash blok terkecil**.
4. Transaksi valid dari blok yang kalah dikembalikan ke mempool.

---

## 3. Tokenomics

**Reward awal:** 100 RNR per blok  
**Pengurangan reward:** Setiap 1.000.000 blok → berkurang 1 RNR, minimum 1 RNR selamanya.

**Rumus:**
\[
R(h) = \max\left(1, 100 - \left\lfloor \frac{h-1}{1,000,000} \right\rfloor\right)
\]  

**Distribusi reward:**
- 70% untuk penemu blok.
- 30% untuk hingga 50 kontributor PoB terbesar, dibagi rata.
- Jika < 50 kontributor → dibagi rata ke jumlah yang ada.
- Pembulatan ke 8 desimal (floor), sisa dibakar.

**Fee transaksi:**
- Minimal = 0.0001% × nilai transaksi, dibulatkan ke atas (ceil) ke 8 desimal.
- Base Fee dibakar, Priority Fee ke penemu blok.

---

## 4. Batasan & Aturan Blok

**Kapasitas maksimum blok:**
\[
\text{Cap Blok} = 30\% \times \text{Upload\_validator} \times 10\ \text{detik}
\]
- Upload_validator diambil dari pengukuran PoB terbaru.
- Dirancang agar 85% node dapat menerima blok ≤ 10 detik.

**Batas transaksi khusus:**
- Maksimal 15 transaksi pembuatan wallet per blok.

**Penalti kapasitas:**
1. Pelanggaran ke-1 → Node ditandai.
2. Pelanggaran ke-2 → Turun status validator + bayar bandwidth 1 jam.
3. Pelanggaran ke-3 → Daftar ulang + bayar bandwidth 6 jam.

---

## 5. Tata Kelola

- 1 node = 1 suara.
- Voting on-chain.
- Keputusan sah jika > 85% validator aktif setuju.
- Dapat mengubah parameter konsensus, reward, dan batas jaringan.

---

## 6. Penalti Validator

**Pelanggaran ukuran blok:** mengikuti §4.  

**Pelanggaran propagasi:** Node yang lambat menyebarkan blok menurunkan reputasi dan peluang menjadi validator di blok berikutnya.

**Proof palsu:**  
- Definisi: Data pengukuran bandwidth dimanipulasi, diubah, atau dibuat-buat untuk memenuhi syarat validasi.  
- Deteksi: Diverifikasi silang dengan pengukuran peer lain, tanda tangan, dan PoH.  
- Sanksi:  
  1. Pemotongan seluruh reward blok.  
  2. Status validator diturunkan selama minimal 100 blok.  
  3. Pelanggaran berulang (>3 kali dalam 10.000 blok) → larangan permanen.

---

## 7. Parameter Jaringan Awal

Parameter                  | Nilai
---------------------------|------------------------------
Block time                 | 30 detik
Target propagasi           | ≥85% node dalam ≤10 detik
Retarget PoB               | 100 blok
Min pengukuran PoB         | 3 peer
Sampling peer              | 5 peer
Skor PoB minimal           | 0.85
Clamp difficulty           | ±20% per window
Batas wallet/block         | 15
Top penyumbang reward PoB  | 50 node
